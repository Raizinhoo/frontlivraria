import{a as o}from"./axios.364130a5.js";import{_,o as c,c as l,a as s,w as b,v as m,b as v,F as w,r as y,t as u,p as E,d as k}from"./index.daf92b1b.js";class x{async buscarTodosAsEditoras(){return(await o.get("https://raizera.herokuapp.com/publishers")).data}async buscarCategorias(t){return(await o.get(`https://raizera.herokuapp.com/publishers/${t}`)).data}async adicionarEditora(t){return(await o.post("https://raizera.herokuapp.com/publishers",t)).data}async excluirEditora(t){(await o.delete(`https://raizera.herokuapp.com/publishers/${t}`)).data}async atualizarEditora(t){return(await o.put(`https://raizera.herokuapp.com/publishers/${t.id}`,t)).data}}const i=new x,f={data(){return{editora:{},editoras:[]}},async created(){this.editoras=await i.buscarTodosAsEditoras()},methods:{async salvar(){this.editora.id?await i.atualizarEditoras(this.editora):await i.adicionarEditora(this.editora),this.editoras=await i.buscarTodosAsEditoras(),this.editora={}},async excluir(e){await i.excluireditora(e.id),this.editoras=await i.buscarTodosAsEditoras()},editar(e){Object.assign(this.editora,e)}}},p=e=>(E("data-v-5e9216cc"),e=e(),k(),e),A={class:"container"},g=p(()=>s("div",{class:"title"},[s("h2",null,"Gerenciamento de Editoras")],-1)),z={class:"form-input"},C={class:"list-items"},I=p(()=>s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Nome"),s("th",null,"A\xE7\xF5es")])],-1)),T=["onClick"],S=["onClick"];function V(e,t,n,B,d,r){return c(),l("div",A,[g,s("div",z,[b(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>d.editora.publishers=a),onKeyup:t[1]||(t[1]=v((...a)=>r.salvar&&r.salvar(...a),["enter"]))},null,544),[[m,d.editora.publishers]]),s("button",{onClick:t[2]||(t[2]=(...a)=>r.salvar&&r.salvar(...a))},"Adicionar")]),s("div",C,[s("table",null,[I,s("tbody",null,[(c(!0),l(w,null,y(d.editoras,a=>(c(),l("tr",{key:a.id},[s("td",null,u(a.id),1),s("td",null,u(a.description),1),s("td",null,[s("button",{onClick:h=>r.editar(a)},"Editar",8,T),s("button",{onClick:h=>r.excluir(a)},"Excluir",8,S)])]))),128))])])])])}const K=_(f,[["render",V],["__scopeId","data-v-5e9216cc"]]);export{K as default};
