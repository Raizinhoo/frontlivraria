import{a as o}from"./axios.364130a5.js";import{_ as h,o as l,c as d,a,w as _,v as C,b as m,F as v,r as w,t as u,p as y,d as b}from"./index.daf92b1b.js";class k{async buscarTodosAsCategorias(){return(await o.get("https://raizera.herokuapp.com/categories")).data}async buscarCategorias(t){return(await o.get(`https://raizera.herokuapp.com/categories/${t}`)).data}async adicionarCategoria(t){return(await o.post("https://raizera.herokuapp.com/categories",t)).data}async excluirCategoria(t){(await o.delete(`https://raizera.herokuapp.com/categories/${t}`)).data}async atualizarCategoria(t){return(await o.put(`https://raizera.herokuapp.com/categories/${t.id}`,t)).data}}const i=new k,x={data(){return{categoria:{},categorias:[]}},async created(){this.categorias=await i.buscarTodosAsCategorias()},methods:{async salvar(){this.categoria.id?await i.atualizarCategoria(this.categoria):await i.adicionarCategoria(this.categoria),this.categorias=await i.buscarTodosAsCategorias(),this.categoria={}},async excluir(s){await i.excluirCategoria(s.id),this.categorias=await i.buscarTodosAsCategorias()},editar(s){Object.assign(this.categoria,s)}}},p=s=>(y("data-v-7b7c0d05"),s=s(),b(),s),f={class:"container"},A=p(()=>a("div",{class:"title"},[a("h2",null,"Gerenciamento de categorias")],-1)),z={class:"form-input"},I={class:"list-items"},T=p(()=>a("thead",null,[a("tr",null,[a("th",null,"ID"),a("th",null,"Nome"),a("th",null,"A\xE7\xF5es")])],-1)),S=["onClick"],V=["onClick"];function B(s,t,n,D,c,r){return l(),d("div",f,[A,a("div",z,[_(a("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>c.categoria.description=e),onKeyup:t[1]||(t[1]=m((...e)=>r.salvar&&r.salvar(...e),["enter"]))},null,544),[[C,c.categoria.description]]),a("button",{onClick:t[2]||(t[2]=(...e)=>r.salvar&&r.salvar(...e))},"Adicionar")]),a("div",I,[a("table",null,[T,a("tbody",null,[(l(!0),d(v,null,w(c.categorias,e=>(l(),d("tr",{key:e.id},[a("td",null,u(e.id),1),a("td",null,u(e.description),1),a("td",null,[a("button",{onClick:g=>r.editar(e)},"Editar",8,S),a("button",{onClick:g=>r.excluir(e)},"Excluir",8,V)])]))),128))])])])])}const K=h(x,[["render",B],["__scopeId","data-v-7b7c0d05"]]);export{K as default};
